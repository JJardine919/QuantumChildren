# GETLEVERAGED MISSION BRIEFING -- PRIORITY ONE
## Generated: 2026-02-12 by DooDoo
## Status: CRITICAL ISSUES FOUND -- BRAIN IS NOT RUNNING

---

## EXECUTIVE SUMMARY

The GetLeveraged setup has MULTIPLE critical failures preventing it from trading.
The +$1,000 profit on these accounts was NOT generated by the BRAIN script -- it came
from manual trades or other EAs. The BRAIN_GETLEVERAGED.py has NEVER successfully
connected and traded on any GL account based on the log evidence.

**GL_1 (113326) has a -$1,554 unprotected position right now with NO stop loss.**

---

## 1. ACCOUNT STATUS (LIVE DATA FROM MCP)

### GL_1 -- Account 113326
- **Balance:** $150,174.10
- **Equity:** $148,591.25
- **Floating P/L:** -$1,582.85
- **Status in MASTER_CONFIG:** DISABLED (enabled: false)
- **Open Positions:** 2 (BOTH LOSING, BOTH WITHOUT SL)
  - Ticket #2057786: BUY BTCUSD 0.15 lots @ 76530.36, current 66248.80, P/L: **-$1,542.23**, magic=0, SL=0.0, TP=0.0
  - Ticket #1616600: BUY EURUSD 0.01 lots @ 1.19807, P/L: -$11.96, magic=101010, SL=0.0, TP=0.0

**DANGER:** The BTCUSD position is a 0.15 lot BUY opened Feb 3 with NO STOP LOSS.
BTC has dropped ~$10,000 since entry. This position has magic=0 (manual/unknown origin)
and is bleeding $1,542. There is NO watchdog running on this account.

### GL_2 -- Account 113328
- **Balance:** $150,154.71
- **Equity:** $150,154.71
- **Floating P/L:** $0.00
- **Status in MASTER_CONFIG:** DISABLED (enabled: false)
- **Open Positions:** 0
- **Net P/L from initial balance ($150,000):** +$154.71

### GL_3 -- Account 107245
- **Balance:** $151,092.00
- **Equity:** $151,092.00
- **Floating P/L:** $0.00
- **Status in MASTER_CONFIG:** ENABLED (enabled: true) -- THE ONLY ENABLED GL ACCOUNT
- **Open Positions:** 0
- **Net P/L from initial balance ($150,000):** +$1,092.00

### Combined GL P/L Summary
| Account | Balance    | Floating | Net from $150K |
|---------|-----------|----------|----------------|
| GL_1    | $150,174  | -$1,583  | -$1,409 (net)  |
| GL_2    | $150,155  | $0       | +$155          |
| GL_3    | $151,092  | $0       | +$1,092        |
| **TOTAL** | **$451,421** | **-$1,583** | **-$162** |

The "+$1,000" is on GL_3 only. Combined across all 3 accounts, the operation is
actually underwater by -$162 when including GL_1's floating loss.

---

## 2. BRAIN SCRIPT STATUS

### File: BRAIN_GETLEVERAGED.py
- **Location:** C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\BRAIN_GETLEVERAGED.py
- **Architecture:** One script per account instance (correct pattern)
- **Usage:** `python BRAIN_GETLEVERAGED.py --account GL_1|GL_2|GL_3`

### IS THE BRAIN RUNNING? **NO.**
- No .locks file for any GL brain (only BRAIN_ATLAS.lock exists)
- No WATCHDOG lock for GL accounts (only WATCHDOG_ATLAS.lock exists)
- The log file shows NOTHING BUT FAILURES:
  - First attempts: "IPC initialize failed" -- MT5 terminal not running
  - Second attempts: "Authorization failed" -- terminal running but wrong account/password
  - Third attempts: "IPC timeout" -- terminal hung or busy
  - Last log entry: [17:48:23] GL_3 Login failed, IPC timeout
  - **The BRAIN has never successfully connected to ANY GL account**

### Why the BRAIN Cannot Connect
1. **terminal_path is NULL** for all GL accounts in MASTER_CONFIG.json AND credential_manager.py
2. There is only ONE GetLeveraged MT5 terminal installed:
   `C:\Program Files\GetLeveraged MT5 Terminal\terminal64.exe`
3. The BRAIN script tries `mt5.initialize()` with no path, which picks up whatever
   terminal is currently running -- usually ATLAS or BlueGuardian
4. Even when it finds the terminal, `mt5.login()` fails because the terminal may be
   logged into a different account

### The Terminal Path Problem
All GL accounts have `"terminal_path": null` in both:
- MASTER_CONFIG.json (lines 72, 80, 87)
- credential_manager.py (lines 70, 78, 86)

But the terminal EXISTS at: `C:\Program Files\GetLeveraged MT5 Terminal\terminal64.exe`

This means the BRAIN cannot deterministically connect to the GL terminal. It falls back
to `mt5.initialize()` with no args, which connects to whatever terminal happens to be
the default -- and that is NOT the GetLeveraged terminal.

### Additional Architecture Issue: ONE Terminal, THREE Accounts
MT5 Python API is a singleton. You CANNOT run 3 accounts on 1 terminal simultaneously.
The current architecture requires 3 separate MT5 terminal installations for 3 accounts.
Only ONE GetLeveraged terminal is installed. This means at BEST, only ONE GL account
can be automated at a time.

---

## 3. CHALLENGE PARAMETERS (from BRAIN_GETLEVERAGED.py)

The challenge targets are hardcoded in `_load_account()` at line 103-108:
```python
'initial_balance': 10000,      # WRONG -- actual balance is ~$150,000
'profit_target': 0.10,         # 10% = $15,000 profit target
'daily_loss_limit': 0.05,      # 5% = $7,500 daily loss limit
'max_drawdown': 0.10,          # 10% = $15,000 max drawdown
```

**CRITICAL BUG:** The initial_balance is hardcoded to $10,000 but the actual account
balance is ~$150,000. This means the risk checks in `check_risk_limits()` are using
completely wrong math. The daily loss check divides by starting_balance which gets set
from `account_info.balance` at connect time ($150K), so the 5% check would be
$7,500 -- but the hardcoded initial_balance is never actually used for the risk check,
it just sits there wrong. The risk check uses self.starting_balance from connect().

### GetLeveraged Challenge Rules (standard)
Based on the 10%/5%/10% config, this appears to be a standard prop firm challenge:
- **Profit Target:** 10% ($15,000 on $150K account)
- **Daily Loss Limit:** 5% ($7,500)
- **Max Drawdown:** 10% ($15,000)
- **Time Limit:** Unknown -- not configured in MASTER_CONFIG
- **Min Trading Days:** Unknown -- not configured
- **Instruments Configured:** BTCUSD, ETHUSD (in MASTER_CONFIG)
- **Instruments in credential_manager:** BTCUSD, XAUUSD, ETHUSD (3 symbols)

### Current Progress Toward Target
- GL_3 balance: $151,092 (+$1,092 / $15,000 target = **7.3% complete**)
- GL_2 balance: $150,155 (+$155 / $15,000 target = **1.0% complete**)
- GL_1 balance: $150,174 but equity $148,591 (effectively **-$1,409 below start**)

---

## 4. TRADING CONFIGURATION

### Global Settings (from MASTER_CONFIG.json)
```
MAX_LOSS_DOLLARS:       $1.00 per trade
INITIAL_SL_DOLLARS:     $0.60
TP_MULTIPLIER:          3x (TP = 3x SL distance)
ROLLING_SL_MULTIPLIER:  1.5x
DYNAMIC_TP_PERCENT:     50% (partial close at 50% of TP target)
SET_DYNAMIC_TP:         true
ROLLING_SL_ENABLED:     true
CONFIDENCE_THRESHOLD:   0.70 (70% confidence required to trade)
CHECK_INTERVAL:         30 seconds
LSTM_MAX_AGE_DAYS:      7 days
REQUIRE_TRAINED_EXPERT: true
```

### Symbol-Specific Overrides
```
ETHUSD: MAX_LOSS_DOLLARS = $2.00, INITIAL_SL_DOLLARS = $1.20
```

### Lot Sizing (from get_lot_size())
```python
desired_lot = (balance / 100000) * 0.01
lot = max(0.01, min(lot, 0.03))
```
With $150K balance: desired = 0.015, capped at range 0.01-0.03

### Risk Per Trade
- RISK_PER_TRADE_PCT: 0.5% (0.005)
- Max loss per trade: $1.00 (BTCUSD), $2.00 (ETHUSD)
- This is extremely conservative for a $150K account

---

## 5. LSTM EXPERT MODELS

### Manifest: top_50_experts/top_50_manifest.json
- **Total experts loaded:** 101 (51 original + 50 army champions)
- **Exported:** 2026-02-12T18:11:15 (today)
- **Source:** etare_redux_v2.db

### Experts Available for GL Symbols
| Symbol | Expert File | Rank | Input Size | Fitness |
|--------|-----------|------|-----------|---------|
| BTCUSD | expert_BTCUSD_special.pth | 0 | 8 | 0.15 |
| ETHUSD | expert_rank21_ETHUSD.pth | 21 | 8 | 0.11 |
| XAUUSD | expert_rank11_XAUUSD.pth | 11 | 8 | 0.20 |

### MODEL STALENESS WARNING
- expert_BTCUSD_special.pth: **Last modified Feb 2** (10 days old, exceeds 7-day limit)
- expert_rank21_ETHUSD.pth: **Last modified Feb 2** (10 days old, exceeds 7-day limit)
- LSTM_MAX_AGE_DAYS = 7
- The BRAIN would log "STALE MODEL" warnings but would still load them

### Army Champions (input_size=17, incompatible with BRAIN)
The army champions have input_size=17 but the FeatureEngineer produces 8 features.
These models would FAIL to load if selected. The ExpertLoader picks the first match
for a symbol, so it would use the rank-0 BTCUSD special (input_size=8) first.
For ETHUSD, it would use rank-21 (input_size=8). For XAUUSD, rank-11 (input_size=8).
The army champions are never reached because get_best_expert_for_symbol() returns
the FIRST match.

---

## 6. SIGNAL PIPELINE (TEQA + QNIF)

### TEQA Bridge Status
- **Latest BTCUSD signal:** 2026-02-11T13:33:37 (yesterday, STALE)
- **Direction:** SHORT (-1) with 36.4% confidence
- **Genomic shock:** CALM
- **All gates PASS:** neural_consensus, genomic_shock, speciation, domestication
- **TEQA stale threshold:** 30 minutes (MASTER_CONFIG)
- **Signal is 24+ hours old -- TEQA would be STALE and ignored**

### QNIF Bridge Status
- **Latest BTCUSD signal:** 2026-02-09T20:25:15 (3 days old, STALE)
- **Action:** SELL with 36.4% confidence
- **Regime:** TRENDING, tradeable=true
- **QNIF stale threshold:** 10 minutes
- **Signal is 3 DAYS old -- QNIF would be completely ignored**
- **No ETHUSD QNIF signal exists**

### Impact on Trading
Even if the BRAIN could connect, both TEQA and QNIF signals are stale.
The BRAIN would fall back to pure LSTM-only decisions (no quantum veto).
This could actually be FINE -- fewer filters means more trades get through.
But QNIF has VETO authority, and a stale QNIF signal should not block trades.
Need to verify the stale-signal handling code in qnif_bridge.py.

---

## 7. REGIME DETECTION

### Compression-Based Regime Detection
```
CLEAN:    compression ratio >= 1.1 (fidelity=0.96)
VOLATILE: compression ratio >= 0.9 (fidelity=0.88)
CHOPPY:   compression ratio < 0.9  (fidelity=0.75)
```

### CRITICAL FILTER: Only trades in CLEAN regime
Line 735 in BRAIN_GETLEVERAGED.py:
```python
if regime != Regime.CLEAN:
    return regime, fidelity, Action.HOLD, 0.0
```

If the market regime is VOLATILE or CHOPPY, the BRAIN returns HOLD and does
NOT trade. This is a hard gate -- no override possible. In volatile crypto
markets (BTC, ETH), this filter could block trades for extended periods.

The compression-based regime detector uses zlib compression ratio on raw
price bytes. For 256 bars of M5 data, this is a reasonable but aggressive
filter. BTC in a trending market may still show as VOLATILE due to large
tick sizes.

---

## 8. CONFIDENCE THRESHOLD

### Current Setting: 0.70 (70%)
The LSTM softmax output must exceed 70% confidence for the chosen action.
This is HIGH for an LSTM model. Most LSTM models produce relatively diffuse
probability distributions. A 70% threshold could filter out the majority of
signals.

### How This Interacts with TEQA
If TEQA is active (not stale), it can modify confidence. But TEQA is stale,
so the raw LSTM confidence is what matters. With a 3-class softmax (HOLD/BUY/SELL),
getting >70% on any single class requires a very decisive model.

---

## 9. STOP LOSS WATCHDOG COVERAGE

### IS THERE A WATCHDOG ON GL ACCOUNTS? **NO.**
- Lock files show only: WATCHDOG_ATLAS.lock
- No WATCHDOG_GL_1.lock, WATCHDOG_GL_2.lock, or WATCHDOG_GL_3.lock
- The STOPLOSS_WATCHDOG_V2.py requires `--account` flag
- Nobody has launched it for any GL account

### Evidence of Damage
GL_1 has a -$1,542 position with SL=0.0 because no watchdog is running.
The trade has magic=0 (manual/rogue) and has been bleeding for 9 days.

---

## 10. TRADE HISTORY ANALYSIS (GL_1, last 30 days)

The MCP returned history for whichever account was last connected. Key observations:

- **Multiple magic numbers seen:** 0, 84001, 777, 123456, 999, 365001, 101010
- **None of these are GL magic numbers** (should be 113001, 113002, or 107001)
- Magic 365001 = BG_CHALLENGE magic (cross-contamination!)
- Magic 84001, 777, 123456, 999 = unknown/rogue EAs or manual scripts
- Magic 101010 = "QuantumChild_v1" (old script, not current BRAIN)

**The BRAIN_GETLEVERAGED.py has NEVER placed a trade on any GL account.**
All trades came from manual trading, rogue EAs, or cross-contaminated scripts.

---

## 11. EVERYTHING THAT COULD PREVENT TRADING

### SHOWSTOPPERS (must fix to trade at all)
1. **terminal_path is NULL** -- BRAIN cannot find the GL terminal
2. **Only 1 terminal for 3 accounts** -- can only run 1 account at a time
3. **BRAIN is not running** -- no process, no lock file
4. **GL_1 and GL_2 are DISABLED** in MASTER_CONFIG.json
5. **No watchdog** on any GL account

### TRADE BLOCKERS (would prevent trades even if connected)
6. **Regime filter too strict** -- CLEAN requires compression ratio >= 1.1
7. **Confidence threshold too high** -- 0.70 for a 3-class LSTM is very aggressive
8. **LSTM models are stale** -- 10 days old vs 7-day limit (warning only, not blocking)
9. **TEQA/QNIF signals stale** -- would be ignored, BRAIN falls back to LSTM-only

### RISK ISSUES
10. **GL_1 has -$1,542 unprotected position** -- needs immediate attention
11. **initial_balance hardcoded to $10,000** -- cosmetic but misleading
12. **Symbols mismatch** -- credential_manager has XAUUSD, MASTER_CONFIG only has BTCUSD+ETHUSD
13. **No XAUUSD expert** available for GL (only BTCUSD and ETHUSD in top-50 rank 0/21)
    Actually XAUUSD is rank 11, so it IS available. But MASTER_CONFIG only lists BTCUSD+ETHUSD.

---

## 12. RECOMMENDED ACTIONS (Priority Order)

### IMMEDIATE (do right now)
1. **DEAL WITH GL_1 POSITION** -- Ticket #2057786 is -$1,542 with no SL.
   Decision needed: close it or set an emergency SL. Every hour it stays open
   risks further loss. Also close ticket #1616600 (EURUSD -$12, magic=101010).

2. **Fix terminal_path** in MASTER_CONFIG.json for GL accounts:
   ```json
   "terminal_path": "C:\\Program Files\\GetLeveraged MT5 Terminal\\terminal64.exe"
   ```
   Must also update credential_manager.py to match.

3. **Launch WATCHDOG** on GL_3 at minimum:
   ```
   python STOPLOSS_WATCHDOG_V2.py --account GL_3 --limit 1.50 --force-sl
   ```

### SHORT TERM (today)
4. **Focus on GL_3 ONLY** -- it is the only enabled account with +$1,092 profit.
   GL_1 and GL_2 should remain disabled until GL_3 is proven.

5. **Launch BRAIN for GL_3:**
   ```
   python BRAIN_GETLEVERAGED.py --account GL_3
   ```
   After fixing terminal_path. Verify it connects successfully before walking away.

6. **Retrain LSTM models** -- they are 10 days stale. Run Master_Train.py.

### TUNING (if trades still not firing)
7. **Lower CONFIDENCE_THRESHOLD for GL** -- Consider 0.50-0.60 instead of 0.70.
   A 3-class LSTM rarely produces >70% confidence. This alone could be blocking
   all trade signals. This would need a GL-specific override in MASTER_CONFIG or
   a per-account confidence setting.

8. **Lower regime threshold** -- CLEAN_THRESHOLD of 1.1 is reasonable but could be
   relaxed to 1.0 for crypto specifically. Crypto's large tick sizes inflate
   compressed data size, making the ratio look more "chaotic" than it is.

9. **Add XAUUSD to GL MASTER_CONFIG symbols** -- The expert exists (rank 11) and
   XAUUSD has good trending characteristics for the strategy.

10. **Consider installing additional GL terminals** if GL_1/GL_2 need automation.
    Each MT5 instance needs its own terminal installation folder.

---

## 13. FILE REFERENCE

| File | Path |
|------|------|
| BRAIN Script | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\BRAIN_GETLEVERAGED.py |
| MASTER_CONFIG | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\MASTER_CONFIG.json |
| Config Loader | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\config_loader.py |
| Credential Manager | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\credential_manager.py |
| Expert Manifest | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\top_50_experts\top_50_manifest.json |
| TEQA Bridge | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\teqa_bridge.py |
| QNIF Bridge | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\qnif_bridge.py |
| Watchdog V2 | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\STOPLOSS_WATCHDOG_V2.py |
| Brain Log | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\brain_getleveraged.log |
| BTCUSD TEQA Signal | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\te_quantum_signal_BTCUSD.json |
| BTCUSD QNIF Signal | C:\Users\jimjj\Music\QuantumChildren\QuantumTradingLibrary\qnif_signal_BTCUSD.json |
| GL Terminal | C:\Program Files\GetLeveraged MT5 Terminal\terminal64.exe |
| Start Script | C:\Users\jimjj\Music\QuantumChildren\QuantumChildren-github\QuantumTradingLibrary\START_GETLEVERAGED_BRAIN.bat |

---

## 14. BOTTOM LINE

The GetLeveraged BRAIN has never successfully traded. GL_3 has +$1,092 from what
appears to be manual trading or external systems. The BRAIN cannot connect because
terminal_path is null. Even if it could connect, the 70% confidence threshold and
CLEAN-only regime filter would likely block most signals.

The $1,092 profit on GL_3 represents 7.3% of the $15,000 target. To reach the
finish line, the system needs to generate another ~$13,900. At $1 max risk per
trade with a 3:1 R:R, that requires approximately 4,633 winning trades at $3 each,
or fewer trades with larger lot sizes.

At 0.01-0.03 lots on a $150K account risking $1 per trade, this will take an
extremely long time. The risk parameters are calibrated for a $5K-$10K account,
not a $150K account. Consider whether the lot sizing and risk-per-trade should be
scaled up for the GL accounts.

**Priority: Fix the terminal path, launch the BRAIN on GL_3, deal with GL_1's
bleeding position, and get the watchdog running. Then tune confidence and regime
thresholds to actually generate signals.**

---
*This briefing was generated from live MCP account data, file system analysis,
and complete code review of BRAIN_GETLEVERAGED.py and all supporting modules.*
